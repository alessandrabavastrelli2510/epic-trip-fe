<section>
    <h3>Rispondi a queste domande per trovare la scelta pi√π adatta per te!</h3>
    <form #sendSurveyForm="ngForm" (ngSubmit)="onSubmit(sendSurveyForm)">
        <ol>
            @for(q of questions; track q.id){
                <li><label for="{{ q.id }}">{{ q.question }}</label></li>
                @switch (q.id) {
                    @case(1){
                        @for(c of cities; track c){
                            <input type="radio" id="{{ c }}"name="cities" value="{{ c }}" required ngModel>
                            <label for="{{ c }}">{{ c }}</label>
                        }
                    }
                    @case(2){
                        <input type="number" name="numPeople" min="1" max="10" required ngModel>
                    }
                    @case(3){
                        <input type="date" name="startDate" [min]="minDate" (change)="validateDate($event)" required ngModel>
                        @if (errorMessage) {
                            <div class = "error-message">{{ errorMessage }}</div>
                        }
                    }
                    @case (4){
                        <input type="radio" id = "three" name = "days" value = "3" required ngModel>
                        <label for="three">3</label>
                        <input type="radio" id = "five" name = "days" value = "5" required ngModel>
                        <label for="five">5</label>
                    }
                    @case (5){

                    }
                }
            }
        </ol>
        <button type="submit">Cerca</button>
    </form>
</section>